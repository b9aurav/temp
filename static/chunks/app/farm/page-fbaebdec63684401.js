(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{5614:function(e,t,r){Promise.resolve().then(r.bind(r,8085))},8633:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var a=r(7437),l=r(5313);r(2265);var n=e=>(0,a.jsx)("div",{className:" flex justify-center items-center dark:bg-gray-800 shadow-lg rounded-full bg-white",children:(0,a.jsxs)("button",{onClick:e.onToggle,className:"h-10 w-10 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:[(0,a.jsx)("svg",{className:"fill-violet-700 block dark:hidden",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}),(0,a.jsx)("svg",{className:"fill-yellow-500 hidden dark:block",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","fill-rule":"evenodd","clip-rule":"evenodd"})})]})}),s=e=>{let t=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"flex gap-2 w-full justify-center items-center p-2 variant-glass-surface rounded-b-2xl border border-[#2b334c] fixed top-0 left-0",children:[(0,a.jsxs)("div",{className:"btn-group variant-filled",children:[(0,a.jsx)("button",{onClick:()=>t.push("/farmer"),children:"Farmers"}),(0,a.jsx)("button",{onClick:()=>t.push("/farm"),children:"Farms"}),(0,a.jsx)("button",{onClick:()=>t.push("/schedule"),children:"Schedules"})]}),(0,a.jsx)(n,{onToggle:()=>{var e;null===(e=document.querySelector("html"))||void 0===e||e.classList.toggle("dark")}})]})}},8085:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(7437),l=r(2265),n=r(8633),s=r(784),i=e=>{let[t,r]=(0,l.useState)(0),[n,s]=(0,l.useState)(""),[i,o]=(0,l.useState)(0),[c,d]=(0,l.useState)("ton");return e.show?(0,a.jsx)("div",{className:" z-50 fixed w-full h-full top-0 left-0 variant-glass-surface flex items-center justify-center",children:(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Days After Sowing"}),(0,a.jsx)("input",{className:"input",type:"number",placeholder:"Days After Sowing",onChange:e=>r(parseInt(e.target.value))})]}),(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Fertiliser"}),(0,a.jsx)("input",{className:"input",type:"text",placeholder:"Fertiliser",onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Quantity"}),(0,a.jsx)("input",{className:"input",type:"number",placeholder:"Quantity",onChange:e=>o(parseFloat(e.target.value))})]}),(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Quantity Unit"}),(0,a.jsxs)("select",{className:"input",onChange:e=>d(e.target.value),children:[(0,a.jsx)("option",{value:"ton",children:"ton"}),(0,a.jsx)("option",{value:"kg",children:"kg"}),(0,a.jsx)("option",{value:"g",children:"g"}),(0,a.jsx)("option",{value:"L",children:"L"}),(0,a.jsx)("option",{value:"ml",children:"ml"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsx)("button",{type:"button",className:"btn variant-ringed",onClick:e.onClose,children:"Cancel"}),(0,a.jsx)("button",{type:"button",className:"btn variant-filled",onClick:()=>{if(!t||!n||!i||!c){alert("All fields are required");return}fetch("http://20.244.40.42:3000/addSchedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({daysAfterSowing:t,fertiliser:n,quantity:i,quantityUnit:c,farmId:e.farmId})}).then(e=>e.json()).then(t=>{t.id?(alert("Schedule added successfully"),e.onClose()):console.error("Error:",t.error)}).catch(e=>console.error("Error:",e))},children:"Save"})]})]})}):null},o=e=>{let[t,r]=(0,l.useState)(0),[n,s]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[u,h]=(0,l.useState)("");return((0,l.useEffect)(()=>{e.data.area&&e.data.village&&e.data.country&&(r(e.data.area),s(e.data.village),o(e.data.cropGrown),d(e.data.sowingDate),h(e.data.country))},[e.data.area,e.data.village,e.data.cropGrown,e.data.sowingDate,e.data.country]),e.show)?(0,a.jsx)("div",{className:" z-50 fixed w-full h-full top-0 left-0 variant-glass-surface flex items-center justify-center",children:(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Crop Grown"}),(0,a.jsx)("input",{className:"input",type:"text",placeholder:"Crop Grown",value:i,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Sowing Date"}),(0,a.jsx)("input",{className:"input",type:"date",placeholder:"Sowing Date",value:c?c.split("T")[0]:"",onChange:e=>d(e.target.value)})]}),(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Area"}),(0,a.jsx)("input",{className:"input",type:"number",placeholder:"Area",value:t,onChange:e=>r(parseFloat(e.target.value))})]}),(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Village"}),(0,a.jsx)("input",{className:"input",type:"text",placeholder:"Village",value:n,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("label",{className:"label mt-2",children:[(0,a.jsx)("span",{children:"Country"}),(0,a.jsx)("input",{className:"input",type:"text",placeholder:"Country",value:u,onChange:e=>h(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsx)("button",{type:"button",className:"btn variant-ringed",onClick:e.onClose,children:"Cancel"}),(0,a.jsx)("button",{type:"button",className:"btn variant-filled",onClick:()=>{if(!t||!n||!u){alert("All fields are required");return}fetch("http://20.244.40.42:3000/updateFarm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({area:t,village:n,cropGrown:i,country:u,farmerId:e.data.farmerId,id:e.data.id,...""!==c?{sowingDate:c}:{}})}).then(e=>e.json()).then(t=>{t.id?(alert("Farm updated successfully"),e.onClose(),e.onSave()):console.error("Error:",t.error)}).catch(e=>console.error("Error:",e))},children:"Save"})]})]})}):null},c=e=>{let[t,r]=(0,l.useState)({}),[c,d]=(0,l.useState)(""),[u,h]=(0,l.useState)(!1),[p,m]=(0,l.useState)(!1),[j,f]=(0,l.useState)({});(0,l.useEffect)(()=>{x()},[]);let x=()=>{fetch("http://20.244.40.42:3000/getFarms",{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>r(e)).catch(e=>console.error("Error:",e))},b=e=>{window.confirm("Are you sure you want to delete this farm? It will delete all schedules associated with it!")&&fetch("http://20.244.40.42:3000/removeFarm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(e=>e.json()).then(e=>{e.id?(alert("Farm deleted successfully"),x()):console.error("Error:",e.error)}).catch(e=>console.error("Error:",e))};return(0,a.jsxs)("main",{className:"w-screen",children:[(0,a.jsx)(o,{show:p,data:j,onSave:x,onClose:()=>m(!1)}),(0,a.jsx)(i,{show:u,farmId:c,onClose:()=>h(!1)}),(0,a.jsx)(n.default,{}),(0,a.jsx)("div",{className:"w-screen max-h-[90%] flex p-4 flex-col items-center mt-16 ",children:(0,a.jsx)("div",{className:"table-container border border-[#2b334c] ",children:(0,a.jsxs)("table",{className:"table table-hover",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:"#"}),(0,a.jsx)("td",{children:"Farm ID"}),(0,a.jsx)("td",{children:"Farmer ID"}),(0,a.jsx)("td",{children:"Crop Grown"}),(0,a.jsx)("td",{children:"Sowing Date"}),(0,a.jsx)("td",{children:"Area"}),(0,a.jsx)("td",{children:"Village"}),(0,a.jsx)("td",{children:"Country"}),(0,a.jsx)("td",{children:"Actions"})]})}),(0,a.jsx)("tbody",{children:Object.values(t).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t+1}),(0,a.jsx)("td",{children:e.id}),(0,a.jsx)("td",{children:e.farmerId}),(0,a.jsx)("td",{children:e.cropGrown}),(0,a.jsx)("td",{children:e.sowingDate?e.sowingDate.split("T")[0]:""}),(0,a.jsx)("td",{children:e.area}),(0,a.jsx)("td",{children:e.village}),(0,a.jsx)("td",{children:e.country}),(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",className:"btn-icon variant-filled-secondary btn-sm",onClick:()=>{f(e),m(!0)},children:(0,a.jsx)(s.zmo,{})}),(0,a.jsx)("button",{type:"button",className:"btn-icon variant-filled-primary btn-sm",onClick:()=>b(e.id),children:(0,a.jsx)(s.ZkW,{})}),(0,a.jsxs)("button",{type:"button",className:"btn variant-filled-success",onClick:()=>{d(e.id),h(!0)},children:[(0,a.jsx)("span",{children:(0,a.jsx)(s.x06,{})}),(0,a.jsx)("span",{children:"Schedule"})]})]})})]},t))})]})})})]})}},158:function(e,t,r){"use strict";r.d(t,{w_:function(){return d}});var a=r(2265),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(l),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var a,l;a=t,l=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>a.createElement(u,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:l,size:n,title:o}=e,d=function(e,t){if(null==e)return{};var r,a,l=function(e,t){if(null==e)return{};var r,a,l={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(l[r]=e[r]);return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,s),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==n?a.createElement(n.Consumer,null,e=>t(e)):t(l)}}},function(e){e.O(0,[51,971,69,744],function(){return e(e.s=5614)}),_N_E=e.O()}]);