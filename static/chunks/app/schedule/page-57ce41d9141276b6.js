(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{1424:function(e,t,r){Promise.resolve().then(r.bind(r,9037))},8633:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(7437),a=r(5313);r(2265);var l=e=>(0,n.jsx)("div",{className:" flex justify-center items-center dark:bg-gray-800 shadow-lg rounded-full bg-white",children:(0,n.jsxs)("button",{onClick:e.onToggle,className:"h-10 w-10 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:[(0,n.jsx)("svg",{className:"fill-violet-700 block dark:hidden",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}),(0,n.jsx)("svg",{className:"fill-yellow-500 hidden dark:block",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","fill-rule":"evenodd","clip-rule":"evenodd"})})]})}),s=e=>{let t=(0,a.useRouter)();return(0,n.jsxs)("div",{className:"flex gap-2 w-full justify-center items-center p-2 variant-glass-surface rounded-b-2xl border border-[#2b334c] fixed top-0 left-0",children:[(0,n.jsxs)("div",{className:"btn-group variant-filled",children:[(0,n.jsx)("button",{onClick:()=>t.push("/farmer"),children:"Farmers"}),(0,n.jsx)("button",{onClick:()=>t.push("/farm"),children:"Farms"}),(0,n.jsx)("button",{onClick:()=>t.push("/schedule"),children:"Schedules"})]}),(0,n.jsx)(l,{onToggle:()=>{var e;null===(e=document.querySelector("html"))||void 0===e||e.classList.toggle("dark")}})]})}},9037:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),a=r(2265),l=r(8633),s=r(784),i=e=>{let[t,r]=(0,a.useState)(0),[l,s]=(0,a.useState)(""),[i,o]=(0,a.useState)(0),[c,d]=(0,a.useState)("ton");return((0,a.useEffect)(()=>{e.data.daysAfterSowing&&e.data.fertiliser&&e.data.quantity&&e.data.quantityUnit&&(r(e.data.daysAfterSowing),s(e.data.fertiliser),o(e.data.quantity),d(e.data.quantityUnit))},[e.data.daysAfterSowing,e.data.fertiliser,e.data.quantity,e.data.quantityUnit]),e.show)?(0,n.jsx)("div",{className:" z-50 fixed w-full h-full top-0 left-0 variant-glass-surface flex items-center justify-center",children:(0,n.jsxs)("div",{className:"card p-4",children:[(0,n.jsxs)("label",{className:"label mt-2",children:[(0,n.jsx)("span",{children:"Days After Sowing"}),(0,n.jsx)("input",{className:"input",type:"number",value:t,placeholder:"Days After Sowing",onChange:e=>r(parseInt(e.target.value))})]}),(0,n.jsxs)("label",{className:"label mt-2",children:[(0,n.jsx)("span",{children:"Fertiliser"}),(0,n.jsx)("input",{className:"input",type:"text",value:l,placeholder:"Fertiliser",onChange:e=>s(e.target.value)})]}),(0,n.jsxs)("label",{className:"label mt-2",children:[(0,n.jsx)("span",{children:"Quantity"}),(0,n.jsx)("input",{className:"input",type:"number",value:i,placeholder:"Quantity",onChange:e=>o(parseFloat(e.target.value))})]}),(0,n.jsxs)("label",{className:"label mt-2",children:[(0,n.jsx)("span",{children:"Quantity Unit"}),(0,n.jsxs)("select",{value:c,className:"input",onChange:e=>d(e.target.value),children:[(0,n.jsx)("option",{value:"ton",children:"ton"}),(0,n.jsx)("option",{value:"kg",children:"kg"}),(0,n.jsx)("option",{value:"g",children:"g"}),(0,n.jsx)("option",{value:"L",children:"L"}),(0,n.jsx)("option",{value:"ml",children:"ml"})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,n.jsx)("button",{type:"button",className:"btn variant-ringed",onClick:e.onClose,children:"Cancel"}),(0,n.jsx)("button",{type:"button",className:"btn variant-filled",onClick:()=>{if(!t||!l||!i||!c){alert("All fields are required");return}fetch("http://20.244.40.42:3000/updateSchedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({daysAfterSowing:t,fertiliser:l,quantity:i,quantityUnit:c,farmId:e.data.farmId,id:e.data.id})}).then(e=>e.json()).then(t=>{t.id?(alert("Schedule updated successfully"),e.onClose(),e.onSave()):console.error("Error:",t.error)}).catch(e=>console.error("Error:",e))},children:"Save"})]})]})}):null},o=e=>{let[t,r]=(0,a.useState)({}),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({});(0,a.useEffect)(()=>{h()},[]);let h=()=>{fetch("http://20.244.40.42:3000/getSchedules",{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>r(e)).catch(e=>console.error("Error:",e))},f=e=>{window.confirm("Are you sure you want to delete this schedule?")&&fetch("http://20.244.40.42:3000/removeSchedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(e=>e.json()).then(e=>{e.id?(alert("Schedule deleted successfully"),h()):console.error("Error:",e.error)}).catch(e=>console.error("Error:",e))},p=()=>{fetch("http://20.244.40.42:3000/getSchedulesDue",{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>r(e)).catch(e=>console.error("Error:",e))};return(0,n.jsxs)("main",{className:"w-screen",children:[(0,n.jsx)(i,{show:o,data:d,onClose:()=>c(!1),onSave:h}),(0,n.jsx)(l.default,{}),(0,n.jsxs)("div",{className:"w-screen max-h-[90%] flex p-4 flex-col items-center mt-16 ",children:[(0,n.jsxs)("label",{className:"flex items-center space-x-2 mb-4",children:[(0,n.jsx)("input",{className:"checkbox",type:"checkbox",onClick:e=>{e.currentTarget.checked?p():h()}}),(0,n.jsx)("p",{children:"Schedules due for today/tomorrow"})]}),(0,n.jsx)("div",{className:"table-container border border-[#2b334c] ",children:(0,n.jsxs)("table",{className:"table table-hover",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"#"}),(0,n.jsx)("td",{children:"Farm ID"}),(0,n.jsx)("td",{children:"Days after Sowing"}),(0,n.jsx)("td",{children:"Fertiliser"}),(0,n.jsx)("td",{children:"Quantity"}),(0,n.jsx)("td",{children:"Quantity Unit"}),(0,n.jsx)("td",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:Object.values(t).map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:t+1}),(0,n.jsx)("td",{children:e.farmId}),(0,n.jsx)("td",{children:e.daysAfterSowing}),(0,n.jsx)("td",{children:e.fertiliser}),(0,n.jsx)("td",{children:e.quantity}),(0,n.jsx)("td",{children:e.quantityUnit}),(0,n.jsx)("td",{children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{type:"button",className:"btn-icon variant-filled-secondary btn-sm",onClick:()=>{u(e),c(!0)},children:(0,n.jsx)(s.zmo,{})}),(0,n.jsx)("button",{type:"button",className:"btn-icon variant-filled-primary btn-sm",onClick:()=>f(e.id),children:(0,n.jsx)(s.ZkW,{})})]})})]},t))})]})})]})]})}},158:function(e,t,r){"use strict";r.d(t,{w_:function(){return d}});var n=r(2265),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(a),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>n.createElement(u,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:a,size:l,title:o}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s),u=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==l?n.createElement(l.Consumer,null,e=>t(e)):t(a)}}},function(e){e.O(0,[51,971,69,744],function(){return e(e.s=1424)}),_N_E=e.O()}]);