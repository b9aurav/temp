(()=>{var e={};e.id=320,e.ids=[320],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3202:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=a(482),r=a(9108),n=a(2563),l=a.n(n),i=a(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["farmer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2523)),"D:\\Projects\\sow-sync-frontend\\src\\app\\farmer\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"D:\\Projects\\sow-sync-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Projects\\sow-sync-frontend\\src\\app\\farmer\\page.tsx"],u="/farmer/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/farmer/page",pathname:"/farmer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8159:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},90:()=>{},967:(e,t,a)=>{Promise.resolve().then(a.bind(a,9512))},6191:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(5344),r=a(8428);a(3729);let n=e=>s.jsx("div",{className:" flex justify-center items-center dark:bg-gray-800 shadow-lg rounded-full bg-white",children:(0,s.jsxs)("button",{onClick:e.onToggle,className:"h-10 w-10 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:[s.jsx("svg",{className:"fill-violet-700 block dark:hidden",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}),s.jsx("svg",{className:"fill-yellow-500 hidden dark:block",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","fill-rule":"evenodd","clip-rule":"evenodd"})})]})}),l=e=>{let t=(0,r.useRouter)();return(0,s.jsxs)("div",{className:"flex gap-2 w-full justify-center items-center p-2 variant-glass-surface rounded-b-2xl border border-[#2b334c] fixed top-0 left-0",children:[(0,s.jsxs)("div",{className:"btn-group variant-filled",children:[s.jsx("button",{onClick:()=>t.push("/farmer"),children:"Farmers"}),s.jsx("button",{onClick:()=>t.push("/farm"),children:"Farms"}),s.jsx("button",{onClick:()=>t.push("/schedule"),children:"Schedules"})]}),s.jsx(n,{onToggle:()=>{document.querySelector("html")?.classList.toggle("dark")}})]})}},9512:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(5344),r=a(3729),n=a(6191),l=a(8642);let i=e=>{let[t,a]=(0,r.useState)(""),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)("");return e.show?s.jsx("div",{className:" z-50 fixed w-full h-full top-0 left-0 variant-glass-surface flex items-center justify-center",children:(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Name"}),s.jsx("input",{className:"input",type:"text",placeholder:"Name",onChange:e=>a(e.target.value)})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Phone"}),s.jsx("input",{className:"input",type:"number",placeholder:"Phone",onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Language"}),s.jsx("input",{className:"input",type:"text",placeholder:"Language",onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",className:"btn variant-ringed",onClick:e.onClose,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn variant-filled",onClick:()=>{if(!t||!n||!i){alert("All fields are required");return}fetch("http://20.244.40.42:3000/addFarmer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,phoneNumber:n,language:i})}).then(e=>e.json()).then(t=>{t.id?(alert("Farmer added successfully"),e.onClose(),e.onSave()):console.error("Error:",t.error)}).catch(e=>console.error("Error:",e))},children:"Save"})]})]})}):null},o=e=>{let[t,a]=(0,r.useState)(0),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)("");return e.show?s.jsx("div",{className:" z-50 fixed w-full h-full top-0 left-0 variant-glass-surface flex items-center justify-center",children:(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Crop Grown"}),s.jsx("input",{className:"input",type:"text",placeholder:"Crop Grown",onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Sowing Date"}),s.jsx("input",{className:"input",type:"date",placeholder:"Sowing Date",onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Area"}),s.jsx("input",{className:"input",type:"number",placeholder:"Area",onChange:e=>a(parseFloat(e.target.value))})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Village"}),s.jsx("input",{className:"input",type:"text",placeholder:"Village",onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Country"}),s.jsx("input",{className:"input",type:"text",placeholder:"Country",onChange:e=>h(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",className:"btn variant-ringed",onClick:e.onClose,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn variant-filled",onClick:()=>{if(!t||!n||!u){alert("All fields are required");return}fetch("http://20.244.40.42:3000/addFarm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({area:t,village:n,cropGrown:i,country:u,farmerId:e.farmerId,...""!==c?{sowingDate:c}:{}})}).then(e=>e.json()).then(t=>{t.id?(alert("Farm added successfully"),e.onClose()):console.error("Error:",t.error)}).catch(e=>console.error("Error:",e))},children:"Save"})]})]})}):null},c=e=>{let[t,a]=(0,r.useState)(""),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)("");return((0,r.useEffect)(()=>{e.data.name&&e.data.phoneNumber&&e.data.language&&(a(e.data.name),l(e.data.phoneNumber),o(e.data.language))},[e.data.name,e.data.phoneNumber,e.data.language]),e.show)?s.jsx("div",{className:" z-50 fixed w-full h-full top-0 left-0 variant-glass-surface flex items-center justify-center",children:(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Name"}),s.jsx("input",{className:"input",type:"text",placeholder:"Name",value:t,onChange:e=>a(e.target.value)})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Phone"}),s.jsx("input",{className:"input",type:"number",placeholder:"Phone",value:n,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Language"}),s.jsx("input",{className:"input",type:"text",placeholder:"Language",value:i,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",className:"btn variant-ringed",onClick:e.onClose,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn variant-filled",onClick:()=>{if(!t||!n||!i){alert("All fields are required");return}fetch("http://20.244.40.42:3000/updateFarmer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,phoneNumber:n,language:i,id:e.data.id})}).then(e=>e.json()).then(t=>{t.id?(alert("Farmer updated successfully"),e.onClose(),e.onSave()):console.error("Error:",t.error)}).catch(e=>console.error("Error:",e))},children:"Save"})]})]})}):null},d=e=>{let[t,a]=(0,r.useState)(""),[n,i]=(0,r.useState)(0),[o,c]=(0,r.useState)("ton");return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Fertiliser Name"}),s.jsx("input",{className:"input",type:"text",placeholder:"Fertiliser Name",onChange:t=>{a(t.target.value),e.onChange(t.target.value,n,o)}})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Price"}),s.jsx("input",{className:"input",type:"number",placeholder:"Price",onChange:a=>{i(Number(a.target.value)),e.onChange(t,Number(a.target.value),o)}})]}),(0,s.jsxs)("label",{className:"label mt-2",children:[s.jsx("span",{children:"Unit"}),(0,s.jsxs)("select",{className:"input",onChange:a=>{c(a.target.value),e.onChange(t,n,a.target.value)},children:[s.jsx("option",{value:"ton",children:"ton"}),s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"L",children:"L"}),s.jsx("option",{value:"ml",children:"ml"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"button",className:"btn variant-filled mt-10",onClick:e.onDelete,children:s.jsx("span",{children:s.jsx(l.ZkW,{})})})})]})},u=e=>{let[t,a]=(0,r.useState)([]);if(!e.show)return null;let n=(e,t,s,r)=>{a(a=>{let n=[...a],l=n.findIndex(t=>t.id===e);return n[l]={id:e,name:t,price:s,unit:r},n})},i=e=>{a(t=>t.filter(t=>t.id!==e))};return s.jsx("div",{className:" z-50 fixed w-full h-full top-0 left-0 variant-glass-surface flex items-center justify-center",children:(0,s.jsxs)("div",{className:"card p-4",children:[s.jsx("div",{className:"max-h-80 overflow-auto",children:t.map(e=>s.jsx(d,{onChange:(t,a,s)=>n(e.id,t,a,s),onDelete:()=>i(e.id)},e.id))}),(0,s.jsxs)("button",{type:"button",className:"btn variant-filled mt-2",onClick:()=>{a([...t,{id:Date.now(),name:"",price:0,unit:"ton"}])},children:[s.jsx("span",{children:s.jsx(l.x06,{})}),s.jsx("span",{children:"Add Fertiliser"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",className:"btn variant-ringed",onClick:e.onClose,children:"Close"}),s.jsx("button",{type:"button",className:"btn variant-filled",onClick:()=>{t.length||alert("Add fertilisers to calculate bill");let a=Object.fromEntries(t.map(e=>[e.name,{price:e.price,unit:e.unit}]));fetch("http://20.244.40.42:3000/calculateBill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({farmerId:e.farmerId,fertiliserPrices:a})}).then(e=>e.json()).then(e=>{null!=e.totalCost?alert(`Total cost: ${e.totalCost}`):alert(e.error)}).catch(e=>console.error("Error:",e))},children:"Calculate"})]})]})})},h=e=>{let[t,a]=(0,r.useState)({}),[d,h]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[g,v]=(0,r.useState)({}),[N,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{C()},[]);let C=()=>{fetch("http://20.244.40.42:3000/getFarmers",{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>a(e)).catch(e=>console.error("Error:",e))},S=e=>{window.confirm("Are you sure you want to delete this farmer? It will delete all farms and schedules associated with it!")&&fetch("http://20.244.40.42:3000/removeFarmer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(e=>e.json()).then(e=>{e.id?(alert("Farmer deleted successfully"),C()):console.error("Error:",e.error)}).catch(e=>console.error("Error:",e))},w=()=>{fetch("http://20.244.40.42:3000/getFarmersGrowingCrop",{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>a(e)).catch(e=>console.error("Error:",e))};return(0,s.jsxs)("main",{className:"w-screen",children:[s.jsx(i,{show:p,onClose:()=>m(!1),onSave:C}),s.jsx(o,{show:x,onClose:()=>j(!1),farmerId:d}),s.jsx(c,{show:f,data:g,onClose:()=>b(!1),onSave:C}),s.jsx(u,{show:N,farmerId:d,onClose:()=>y(!1)}),s.jsx(n.default,{}),(0,s.jsxs)("div",{className:"w-screen max-h-[90%] flex p-4 flex-col items-center mt-16 ",children:[(0,s.jsxs)("button",{type:"button",className:"btn variant-filled mb-4",onClick:()=>m(!0),children:[s.jsx("span",{children:s.jsx(l.x06,{})}),s.jsx("span",{children:"Add"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("input",{className:"checkbox",type:"checkbox",onClick:e=>{e.currentTarget.checked?w():C()}}),s.jsx("p",{children:"Farmers growing crops"})]}),s.jsx("div",{className:"table-container border border-[#2b334c] ",children:(0,s.jsxs)("table",{className:"table table-hover",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("td",{children:"#"}),s.jsx("td",{children:"Farmer ID"}),s.jsx("td",{children:"Name"}),s.jsx("td",{children:"Phone"}),s.jsx("td",{children:"Language"}),s.jsx("td",{children:"Actions"})]})}),s.jsx("tbody",{children:Object.values(t).map((e,t)=>(0,s.jsxs)("tr",{children:[s.jsx("td",{children:t+1}),s.jsx("td",{children:e.id}),s.jsx("td",{children:e.name}),s.jsx("td",{children:e.phoneNumber}),s.jsx("td",{children:e.language}),s.jsx("td",{children:(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"btn-icon variant-filled-secondary btn-sm",onClick:()=>{v(e),b(!0)},children:s.jsx(l.zmo,{})}),s.jsx("button",{type:"button",className:"btn-icon variant-filled-primary btn-sm",onClick:()=>S(e.id),children:s.jsx(l.ZkW,{})}),(0,s.jsxs)("button",{type:"button",className:"btn variant-filled-success",onClick:()=>{h(e.id),j(!0)},children:[s.jsx("span",{children:s.jsx(l.x06,{})}),s.jsx("span",{children:"Farm"})]}),(0,s.jsxs)("button",{type:"button",className:"btn variant-filled-surface",onClick:()=>{h(e.id),y(!0)},children:[s.jsx("span",{children:s.jsx(l.OTf,{})}),s.jsx("span",{children:"Bill"})]})]})})]},t))})]})})]})]})}},2523:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let s=(0,a(6843).createProxy)(String.raw`D:\Projects\sow-sync-frontend\src\app\farmer\page.tsx`),{__esModule:r,$$typeof:n}=s,l=s.default},1342:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>l});var s=a(5036),r=a(3640),n=a.n(r);a(5023);let l={title:"Create Next App",description:"Generated by create next app"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:n().className,"data-theme":"crimson",children:e})})}},3881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(337);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,225,404,642],()=>a(3202));module.exports=s})();